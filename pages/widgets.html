<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>AdminLTE 2 | Widgets</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.6 -->
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../dist/css/AdminLTE.min.css">
    <link rel="stylesheet" href="../dist/css/mycompany.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="../dist/css/skins/_all-skins.min.css">
    <link href="../plugins/bootstrap-table/bootstrap-table.css" rel="stylesheet" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>
    <!-- ./wrapper -->
    <div class="col-sm-12" style="padding-top:20px;">
        <div class="panel panel-default">
            <div class="panel-heading">查询条件</div>
            <div class="panel-body">
                <form class="form-inline">
                    <div id="toolbar" class="btn-group">
                        <button id="btn_add" type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                        </button>
                    </div>
            
                    <div class="row" style="margin-top:20px;">
                        <div class="col-sm-12">
                            <input id="txtTitle" type="text" class="form-control">
                            <input class="btn btn-primary" type="button" value="查询" onclick="SearchData()">
                            <input class="btn btn-default" type="button" value="批量删除" onclick="BtchDelete()">
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <table id="table"></table>
    </div>
    <!-- jQuery 2.2.3 -->
    <script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>
    <!-- Bootstrap 3.3.6 -->
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <!-- Slimscroll -->
    <script src="../plugins/slimScroll/jquery.slimscroll.min.js"></script>
    <!-- FastClick -->
    <script src="../plugins/fastclick/fastclick.js"></script>
    <!-- AdminLTE App -->
    <script src="../dist/js/app.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="../dist/js/demo.js"></script>
    <script src="../plugins/bootstrap-table/bootstrap-table.js"></script>
    <script src="../plugins/bootstrap-table/extensions/export/bootstrap-table-export.js"></script>
    <script src="../plugins/bootstrap-table/extensions/export/tableExport.js"></script>
    <link rel="stylesheet" href="../plugins/bootstrap-table/extensions/editable/bootstrap-editable.css">
    <script src="../plugins/bootstrap-table/extensions/editable/bootstrap-editable.js"></script>
    <script src="../plugins/bootstrap-table/extensions/editable/bootstrap-table-editable.js"></script>
    <script src="../plugins/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>
    <script>
    $(document).ready(function() {
        $('#table').bootstrapTable({
            // url: '@Url.Action("SearchBookInfo", "Home")',
            data: [{
                    id: 22,
                    creatorId: null,
                    creator: "0",
                    created: 1515047875,
                    updated: 1515047875,
                    portNo: "2222",
                    name: "111",
                    portType: 1,
                    company: "33",
                    longitude: 1111112,
                    latitude: 111112,
                    radius: 22,
                    description: "ww"
                },
                {
                    id: 21,
                    creatorId: null,
                    creator: "0",
                    created: 1515045706,
                    updated: 1515045706,
                    portNo: "0001",
                    name: "通港",
                    portType: 1,
                    company: "啊啊",
                    longitude: 1111112,
                    latitude: 111112,
                    radius: 1,
                    description: "0001"
                },
                {
                    id: 20,
                    creatorId: null,
                    creator: "0",
                    created: 1515033291,
                    updated: 1515033291,
                    portNo: "123123",
                    name: "南京",
                    portType: 1,
                    company: "南京苏宁",
                    longitude: 1111112,
                    latitude: 111112,
                    radius: 1212,
                    description: "1111"
                },
                {
                    id: 19,
                    creatorId: null,
                    creator: "0",
                    created: 1515029852,
                    updated: 1515029852,
                    portNo: "11111",
                    name: "港口666",
                    portType: 1,
                    company: "ssxx公司",
                    longitude: 1111112,
                    latitude: 111112,
                    radius: 12011,
                    description: "1111"
                },
                {
                    id: 18,
                    creatorId: null,
                    creator: "0",
                    created: 1515029794,
                    updated: 1515029794,
                    portNo: "11111",
                    name: "港口66",
                    portType: 1,
                    company: "ssxx公司",
                    longitude: 1111111,
                    latitude: 111111,
                    radius: 12011,
                    description: "1111"
                },
                {
                    id: 17,
                    creatorId: null,
                    creator: "0",
                    created: 1515029490,
                    updated: 1515029490,
                    portNo: "1111",
                    name: "港口6",
                    portType: 1,
                    company: "ssxx公司",
                    longitude: 1181235,
                    latitude: 3412451,
                    radius: 12011,
                    description: "ssss"
                },
                {
                    id: 16,
                    creatorId: null,
                    creator: "0",
                    created: 1514997779,
                    updated: 1514997779,
                    portNo: "afdaf",
                    name: "afdas1",
                    portType: 0,
                    company: "fadsfas",
                    longitude: 118981111,
                    latitude: 34133431,
                    radius: 12121,
                    description: ""
                },
                {
                    id: 15,
                    creatorId: null,
                    creator: "0",
                    created: 1514996709,
                    updated: 1514996709,
                    portNo: "1003",
                    name: "港口315",
                    portType: 0,
                    company: "公司1",
                    longitude: 118234567,
                    latitude: 135123456,
                    radius: 1235,
                    description: ""
                },
                {
                    id: 14,
                    creatorId: null,
                    creator: "0",
                    created: 1514984360,
                    updated: 1514984360,
                    portNo: "afdaf",
                    name: "afdas",
                    portType: 0,
                    company: "fadsfas",
                    longitude: 118982111,
                    latitude: 34123343,
                    radius: 12121,
                    description: ""
                },
                {
                    id: 13,
                    creatorId: null,
                    creator: "0",
                    created: 1514984325,
                    updated: 1514984325,
                    portNo: "afdaf",
                    name: "adafasfasd",
                    portType: 0,
                    company: "fadsfas",
                    longitude: 118982111,
                    latitude: 34123343,
                    radius: 12121,
                    description: ""
                },
                {
                    id: 12,
                    creatorId: null,
                    creator: "0",
                    created: 1514977991,
                    updated: 1514977991,
                    portNo: "1003",
                    name: "港口134",
                    portType: 0,
                    company: "公司1",
                    longitude: 118234567,
                    latitude: 35123456,
                    radius: 1235,
                    description: ""
                },
                {
                    id: 11,
                    creatorId: null,
                    creator: "0",
                    created: 1514972421,
                    updated: 1514972421,
                    portNo: "12345",
                    name: "港口35",
                    portType: 1,
                    company: "xxx公司",
                    longitude: 1181235671,
                    latitude: 341245343,
                    radius: 12000,
                    description: ""
                },
                {
                    id: 10,
                    creatorId: null,
                    creator: "0",
                    created: 1514971286,
                    updated: 1514971286,
                    portNo: "1234",
                    name: "港口34",
                    portType: 1,
                    company: "xx公司",
                    longitude: 118123567,
                    latitude: 34124534,
                    radius: 1200,
                    description: ""
                },
                {
                    id: 9,
                    creatorId: null,
                    creator: "0",
                    created: 1514903515,
                    updated: 1515038274,
                    portNo: "1111222",
                    name: "港口555",
                    portType: 1,
                    company: "ssxx公司公司",
                    longitude: 1111112,
                    latitude: 111112,
                    radius: 12312,
                    description: "ssss事实上"
                },
                {
                    id: 8,
                    creatorId: null,
                    creator: "0",
                    created: 1514903478,
                    updated: 1515037374,
                    portNo: "11111",
                    name: "港口66622",
                    portType: 1,
                    company: "ssxx公司",
                    longitude: 1111112,
                    latitude: 111112,
                    radius: 12312,
                    description: "11112"
                },
                {
                    id: 7,
                    creatorId: null,
                    creator: "0",
                    created: 1514903468,
                    updated: 1514903468,
                    portNo: "1001",
                    name: "港口1",
                    portType: 0,
                    company: "公司1",
                    longitude: 118234567,
                    latitude: 35123456,
                    radius: 1235,
                    description: ""
                },
                {
                    id: 6,
                    creatorId: null,
                    creator: "0",
                    created: 1514887448,
                    updated: 1514887448,
                    portNo: "",
                    name: "port4",
                    portType: 0,
                    company: "",
                    longitude: 0,
                    latitude: 0,
                    radius: 0,
                    description: ""
                },
                {
                    id: 4,
                    creatorId: null,
                    creator: "0",
                    created: 1514887252,
                    updated: 1514887252,
                    portNo: "",
                    name: "port2",
                    portType: 0,
                    company: "",
                    longitude: 0,
                    latitude: 0,
                    radius: 0,
                    description: ""
                },
                {
                    id: 3,
                    creatorId: null,
                    creator: "0",
                    created: 1514887248,
                    updated: 1514887248,
                    portNo: "",
                    name: "port1",
                    portType: 0,
                    company: "",
                    longitude: 0,
                    latitude: 0,
                    radius: 0,
                    description: ""
                }
            ],
            queryParamsType: '', //默认值为 'limit' ,在默认情况下 传给服务端的参数为：offset,limit,sort  
            queryParams: queryParams,
            method: "post",
            pagination: true,
            pageNumber: 1,
            clickToSelect: true,
            showRefresh : true, //是否显示刷新按钮
            pageSize: 10,
            pageList: [10, 20, 50, 100],
            showExport: true,                     //是否显示导出
            exportDataType: "basic",              //basic', 'all', 'selected'.
            sidePagination: "client", //分页方式：client客户端分页，server服务端分页（*）  
            striped: true, //是否显示行间隔色  
            cache: false,
            uniqueId: "id", //每一行的唯一标识，一般为主键列  
            // height: 300,
            paginationPreText: "上一页",
            paginationNextText: "下一页",
            onEditableSave: function (field, row, oldValue, $el) {
              if (confirm("是否确认提交")) {
                $.ajax({
                    type: "post",
                    url: "/Editable/Edit",
                    data: { strJson: JSON.stringify(row) },
                    success: function (data, status) {
                        if (status == "success") {
                            alert("编辑成功");
                        }
                    },
                    error: function () {
                        alert("编辑失败");
                    },
                    complete: function () {

                    }

                });
              }
                console.log(field);
                console.log(row);
                console.log(oldValue);
                console.log($el);
            },
            columns: [
                { checkbox: true },
                { title: '序号', width: 50, align: "center", formatter: function(value, row, index) { return index + 1; } },
                { title: 'id', field: 'id', sortable:true },
                { title: '操作员号', field: 'creatorId', sortable:true },
                { title: '创建者', field: 'creator', sortable:true },
                { title: '创建', field: 'created', sortable:true },
                { title: '更新', field: 'updated', sortable:true },
                { title: '港口号', field: 'portNo', sortable:true },
                { title: '港口名', field: 'name', sortable:true },
                { title: '港口类型', field: 'portType' },
                { title: '公司', field: 'company' },
                { title: '经度', field: 'longitude', editable:true },
                { title: '经度', field: 'latitude', editable:true },
                { title: '半径', field: 'radius' },
                { title: '描述', field: 'description' },
                {
                    title: '操作',
                    field: 'id',
                    formatter: function(value, row, index) {
                        var html = '<a href="javascript:Edit(' + value + ')">编辑</a>';
                        html += '　<a href="javascript:Delete(' + value + ')">删除</a>';
                        return html;
                    }
                }
            ]
        });
    });

    //查询条件  
    function queryParams(params) {
        return {
            pageSize: params.pageSize,
            pageIndex: params.pageNumber,
            Title: $.trim($("#txtTitle").val()),
        };
    }

    //查询事件  
    function SearchData() {
        $('#table').bootstrapTable('refresh', { pageNumber: 1 });
    }

    //编辑操作  
    function Edit(id) {
        alert("编辑操作，id：" + id);
    }

    //删除操作  
    function Delete(id) {
        if (confirm("确定删除id：" + id + "吗？")) {
            alert("执行删除操作");
        }
    }

    //批量删除  
    function BtchDelete() {
        var opts = $('#table').bootstrapTable('getSelections');
        if (opts == "") {
            alert("请选择要删除的数据");
        } else {
            var idArray = [];
            for (var i = 0; i < opts.length; i++) {
                idArray.push(opts[i].id);
            }
            if (confirm("确定删除id：" + idArray + "吗？")) {
                alert("执行删除操作");
            }
        }
    }
    </script>
</body>

</html>